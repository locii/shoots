/********************************************************************
* Limit the characters that may be entered in a text field
* Common options: alphanumeric, alphabetic or numeric
* Kevin Sheedy, 2012
* http://github.com/KevinSheedy/jquery.alphanum
*********************************************************************/(function(e){function l(){var e="!@#$%^&*()+=[]\\';,/{}|\":<>?~`.-_";e+=" ";return e}function c(){var e="¬€£¦";return e}function h(t,n,r){t.each(function(){var t=e(this);t.bind("keyup change paste",function(e){var i="";e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.getData&&(i=e.originalEvent.clipboardData.getData("text/plain"));setTimeout(function(){m(t,n,r,i)},0)});t.bind("keypress",function(e){var i=e.charCode?e.charCode:e.which;if(v(i)||e.ctrlKey||e.metaKey)return;var s=String.fromCharCode(i),o=t.selection(),u=o.start,a=o.end,f=t.val(),l=f.substring(0,u)+s+f.substring(a),c=n(l,r);c!=l&&e.preventDefault()})})}function p(t,n){var r=parseFloat(e(t).val()),i=e(t);if(isNaN(r)){i.val("");return}d(n.min)&&r<n.min&&i.val("");d(n.max)&&r>n.max&&i.val("")}function d(e){return!isNaN(e)}function v(e){return e>=32?!1:e==10?!1:e==13?!1:!0}function m(e,t,n,r){var i=e.val();i==""&&r.length>0&&(i=r);var s=t(i,n);if(i==s)return;var o=e.alphanum_caret();e.val(s);i.length==s.length+1?e.alphanum_caret(o-1):e.alphanum_caret(o)}function g(n,i){typeof i=="undefined"&&(i=t);var s,o={};typeof n=="string"?s=r[n]:typeof n=="undefined"?s={}:s=n;e.extend(o,i,s);typeof o.blacklist=="undefined"&&(o.blacklistSet=P(o.allow,o.disallow));return o}function y(t){var r,s={};typeof t=="string"?r=i[t]:typeof t=="undefined"?r={}:r=t;e.extend(s,n,r);return s}function b(e,t,n){return n.maxLength&&e.length>=n.maxLength?!1:n.allow.indexOf(t)>=0?!0:n.allowSpace&&t==" "?!0:n.blacklistSet.contains(t)?!1:!n.allowNumeric&&a[t]?!1:!n.allowUpper&&M(t)?!1:!n.allowLower&&_(t)?!1:!n.allowCaseless&&D(t)?!1:!n.allowLatin&&f.contains(t)?!1:n.allowOtherCharSets?!0:a[t]||f.contains(t)?!0:!1}function w(e,t,n){if(a[t])return S(e,n)?!1:T(e,n)?!1:x(e,n)?!1:N(e+t,n)?!1:C(e+t,n)?!1:!0;if(n.allowPlus&&t=="+"&&e=="")return!0;if(n.allowMinus&&t=="-"&&e=="")return!0;if(t==o&&n.allowThouSep&&j(e,t))return!0;if(t==u){if(e.indexOf(u)>=0)return!1;if(n.allowDecSep)return!0}return!1}function E(e){e+="";return e.replace(/[^0-9]/g,"").length}function S(e,t){var n=t.maxDigits;if(n==""||isNaN(n))return!1;var r=E(e);return r>=n?!0:!1}function x(e,t){var n=t.maxDecimalPlaces;if(n==""||isNaN(n))return!1;var r=e.indexOf(u);if(r==-1)return!1;var i=e.substring(r),s=E(i);return s>=n?!0:!1}function T(e,t){var n=t.maxPreDecimalPlaces;if(n==""||isNaN(n))return!1;var r=e.indexOf(u);if(r>=0)return!1;var i=E(e);return i>=n?!0:!1}function N(e,t){if(!t.max||t.max<0)return!1;var n=parseFloat(e);return n>t.max?!0:!1}function C(e,t){if(!t.min||t.min>0)return!1;var n=parseFloat(e);return n<t.min?!0:!1}function k(e,t){if(typeof e!="string")return e;var n=e.split(""),r=[],i=0,s;for(i=0;i<n.length;i++){s=n[i];var o=r.join("");b(o,s,t)&&r.push(s)}return r.join("")}function L(e,t){if(typeof e!="string")return e;var n=e.split(""),r=[],i=0,s;for(i=0;i<n.length;i++){s=n[i];var o=r.join("");w(o,s,t)&&r.push(s)}return r.join("")}function A(e){var t=e.split(""),n=0,r=[],i;for(n=0;n<t.length;n++)i=t[n]}function O(e){}function M(e){var t=e.toUpperCase(),n=e.toLowerCase();return e==t&&t!=n?!0:!1}function _(e){var t=e.toUpperCase(),n=e.toLowerCase();return e==n&&t!=n?!0:!1}function D(e){return e.toUpperCase()==e.toLowerCase()?!0:!1}function P(e,t){var n=new F(s+t),r=new F(e),i=n.subtract(r);return i}function H(){var e="0123456789".split(""),t={},n=0,r;for(n=0;n<e.length;n++){r=e[n];t[r]=!0}return t}function B(){var e="abcdefghijklmnopqrstuvwxyz",t=e.toUpperCase(),n=new F(e+t);return n}function j(e,t){if(e.length==0)return!1;var n=e.indexOf(u);if(n>=0)return!1;var r=e.indexOf(o);if(r<0)return!0;var i=e.lastIndexOf(o),s=e.length-i-1;if(s<3)return!1;var a=E(e.substring(r));return a%3>0?!1:!0}function F(e){typeof e=="string"?this.map=I(e):this.map={}}function I(e){var t={},n=e.split(""),r=0,i;for(r=0;r<n.length;r++){i=n[r];t[i]=!0}return t}e.fn.alphanum=function(e){var t=g(e),n=this;h(n,k,t);return this};e.fn.alpha=function(e){var t=g("alpha"),n=g(e,t),r=this;h(r,k,n);return this};e.fn.numeric=function(e){var t=y(e),n=this;h(n,L,t);n.blur(function(){p(this,e)});return this};var t={allow:"",disallow:"",allowSpace:!0,allowNumeric:!0,allowUpper:!0,allowLower:!0,allowCaseless:!0,allowLatin:!0,allowOtherCharSets:!0,maxLength:NaN},n={allowPlus:!1,allowMinus:!0,allowThouSep:!0,allowDecSep:!0,allowLeadingSpaces:!1,maxDigits:NaN,maxDecimalPlaces:NaN,maxPreDecimalPlaces:NaN,max:NaN,min:NaN},r={alpha:{allowNumeric:!1},upper:{allowNumeric:!1,allowUpper:!0,allowLower:!1,allowCaseless:!0},lower:{allowNumeric:!1,allowUpper:!1,allowLower:!0,allowCaseless:!0}},i={integer:{allowPlus:!1,allowMinus:!0,allowThouSep:!1,allowDecSep:!1},positiveInteger:{allowPlus:!1,allowMinus:!1,allowThouSep:!1,allowDecSep:!1}},s=l()+c(),o=",",u=".",a=H(),f=B();F.prototype.add=function(e){var t=this.clone();for(var n in e.map)t.map[n]=!0;return t};F.prototype.subtract=function(e){var t=this.clone();for(var n in e.map)delete t.map[n];return t};F.prototype.contains=function(e){return this.map[e]?!0:!1};F.prototype.clone=function(){var e=new F;for(var t in this.map)e.map[t]=!0;return e};e.fn.alphanum.backdoorAlphaNum=function(e,t){var n=g(t);return k(e,n)};e.fn.alphanum.backdoorNumeric=function(e,t){var n=y(t);return L(e,n)};e.fn.alphanum.setNumericSeparators=function(e){if(e.thousandsSeparator.length!=1)return;if(e.decimalSeparator.length!=1)return;o=e.thousandsSeparator;u=e.decimalSeparator}})(jQuery);(function(e){function t(e,t){if(e.createTextRange){var n=e.createTextRange();n.move("character",t);n.select()}else if(e.selectionStart!=null){e.focus();e.setSelectionRange(t,t)}}function n(e){if("selection"in document){var t=e.createTextRange();try{t.setEndPoint("EndToStart",document.selection.createRange())}catch(n){return 0}return t.text.length}if(e.selectionStart!=null)return e.selectionStart}e.fn.alphanum_caret=function(r,i){return typeof r=="undefined"?n(this.get(0)):this.queue(function(n){if(isNaN(r)){var s=e(this).val().indexOf(r);i===!0?s+=r.length:typeof i!="undefined"&&(s+=i);t(this,s)}else t(this,r);n()})}})(jQuery);(function(e){var t=function(e){return e.replace(/([a-z])([a-z]+)/gi,function(e,t,n){return t+n.toLowerCase()}).replace(/_/g,"")},n=function(e){return e.replace(/^([a-z]+)_TO_([a-z]+)/i,function(e,t,n){return n+"_TO_"+t})},r=function(e){return e?e.ownerDocument.defaultView||e.ownerDocument.parentWindow:window},i=function(t,n){var r=e.Range.current(t).clone(),i=e.Range(t).select(t);if(!r.overlaps(i))return null;if(r.compare("START_TO_START",i)<1){startPos=0;r.move("START_TO_START",i)}else{fromElementToCurrent=i.clone();fromElementToCurrent.move("END_TO_START",r);startPos=fromElementToCurrent.toString().length}r.compare("END_TO_END",i)>=0?endPos=i.toString().length:endPos=startPos+r.toString().length;return{start:startPos,end:endPos}},s=function(t){var n=r(t);if(t.selectionStart!==undefined)return document.activeElement&&document.activeElement!=t&&t.selectionStart==t.selectionEnd&&t.selectionStart==0?{start:t.value.length,end:t.value.length}:{start:t.selectionStart,end:t.selectionEnd};if(n.getSelection)return i(t,n);try{if(t.nodeName.toLowerCase()=="input"){var s=r(t).document.selection.createRange(),o=t.createTextRange();o.setEndPoint("EndToStart",s);var u=o.text.length;return{start:u,end:u+s.text.length}}var a=i(t,n);if(!a)return a;var f=e.Range.current().clone(),l=f.clone().collapse().range,c=f.clone().collapse(!1).range;l.moveStart("character",-1);c.moveStart("character",-1);a.startPos!=0&&l.text==""&&(a.startPos+=2);a.endPos!=0&&c.text==""&&(a.endPos+=2);return a}catch(h){return{start:t.value.length,end:t.value.length}}},o=function(e,t,n){var i=r(e);if(e.setSelectionRange)if(n===undefined){e.focus();e.setSelectionRange(t,t)}else{e.select();e.selectionStart=t;e.selectionEnd=n}else if(e.createTextRange){var s=e.createTextRange();s.moveStart("character",t);n=n||t;s.moveEnd("character",n-e.value.length);s.select()}else if(i.getSelection){var o=i.document,u=i.getSelection(),f=o.createRange(),l=[t,n!==undefined?n:t];a([e],l);f.setStart(l[0].el,l[0].count);f.setEnd(l[1].el,l[1].count);u.removeAllRanges();u.addRange(f)}else if(i.document.body.createTextRange){var f=document.body.createTextRange();f.moveToElementText(e);f.collapse();f.moveStart("character",t);f.moveEnd("character",n!==undefined?n:t);f.select()}},u=function(e,t,n,r){typeof n[0]=="number"&&n[0]<t&&(n[0]={el:r,count:n[0]-e});typeof n[1]=="number"&&n[1]<=t&&(n[1]={el:r,count:n[1]-e})},a=function(e,t,n){var r,i;n=n||0;for(var s=0;e[s];s++){r=e[s];if(r.nodeType===3||r.nodeType===4){i=n;n+=r.nodeValue.length;u(i,n,t,r)}else r.nodeType!==8&&(n=a(r.childNodes,t,n))}return n};jQuery.fn.selection=function(e,t){return e!==undefined?this.each(function(){o(this,e,t)}):s(this[0])};e.fn.selection.getCharElement=a})(jQuery);