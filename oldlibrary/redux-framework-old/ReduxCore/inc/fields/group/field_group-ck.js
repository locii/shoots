/* global redux_change */(function(e){"use strict";e.redux.group=e.group||{};e(document).ready(function(){e.redux.group()});e.redux.group=function(){e("#redux-groups-accordion").accordion({header:"> div > h3",collapsible:!0,active:!1,heightStyle:"content",icons:{header:"ui-icon-plus",activeHeader:"ui-icon-minus"}}).sortable({axis:"y",handle:"h3",stop:function(t,n){n.item.children("h3").triggerHandler("focusout");var r=e("input.slide-sort");r.each(function(t){e(this).val(t)})}});e('.redux-groups-accordion-group input[data-title="true"]').on("keyup",function(t){e(this).closest(".redux-groups-accordion-group").find(".redux-groups-header").text(t.target.value);e(this).closest(".redux-groups-accordion-group").find(".slide-title").val(t.target.value)});e(".redux-groups-remove").live("click",function(){redux_change(e(this));e(this).parent().find('input[type="text"]').val("");e(this).parent().find('input[type="hidden"]').val("");e(this).parent().parent().slideUp("medium",function(){e(this).remove()})});e(".redux-groups-add").click(function(){var t=e(this).prev().find(".redux-dummy").clone(!0).show(),n=e(this).parent().find(".redux-dummy-slide-count"),r=n.val();n.val(parseInt(r)+1);e(this).prev().append(t);e(t).removeClass("redux-dummy");e(t).find('input[type="text"], input[type="hidden"], textarea , select').each(function(){var n=e(this).data("name"),i=e(this).attr("id");typeof i!="undefined"&&i!==!1&&e(this).attr("id",e(this).attr("id").replace("@",r));typeof n!="undefined"&&n!==!1&&e(this).attr("name",e(this).data("name").replace("@",r));if(e(this).prop("tagName")=="SELECT"){e(t).find(".select2-container").remove();e(t).find("select").removeClass("select2-offscreen")}e(this).val("");e(this).hasClass("slide-sort")&&e(this).val(r)})})}})(jQuery);